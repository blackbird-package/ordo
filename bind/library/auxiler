#!/bin/bash

##
## GLOBAL VARIABLE
PROGSIDS=1



##
## MESSAGE AND BANNER

function blackbird_banner() {
    /usr/bin/clear
    echo '----------------------------------------------------'
    echo ' BLACKBIRD SYSTEM FRAMEWORK'
    echo ' copyright@2025 Lektor Media Utama'
    echo '----------------------------------------------------'
}


function blackbird_scope_init() {
    blackbird_banner
    echo ' '$1
    echo '----------------------------------------------------'
}


function blackbird_scope_done() {
    PROGSIDS=1
    /usr/bin/sleep 2s
}


function blackbird_progress() {
    echo "        |"
    echo "  step ($PROGSIDS) $1"
    PROGSIDS=$(( $PROGSIDS + 1 ))
    /usr/bin/sleep 1s
}


function blackbird_warning() {
    echo "        |----> [ warning ] $1"
    /usr/bin/sleep 1s
}


function blackbird_info() {
    echo "        |----> [ info ] $1"
    /usr/bin/sleep 1s
}


function blackbird_error() {
    echo "        |----> [ error ] $1"
    /usr/bin/sleep 1s
    exit 1
}


function blackbird_done() {
    echo "        |----> [ done ]"
}


##
## CHROOT WRAP

function userc() {
     arch-chroot /mnt /bin/bash -c 'sudo -H -u installman /bin/bash -c "'$1'"' 
}


function rootc() {
    arch-chroot /mnt /bin/bash -c $1
}


##
## MAIN FUNCTIONS

LIBRARY=("installs" "unpack" "system" "")

for module in "${LIBRARY[@]}"; do
    source $BPAT$"/bind/library/"$module
done
